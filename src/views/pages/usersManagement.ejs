<div class="container mx-auto p-6">
    <!-- Header and Add User Button -->
    <div class="bg-white p-6 rounded-lg shadow-md mb-6 flex justify-between items-center">
        <div>
            <h1 class="text-3xl font-bold text-green-500 mb-1">إدارة المستخدمين</h1>
            <p class="text-gray-600">إدارة حسابات المستخدمين وصلاحياتهم</p>
        </div>
        <button id="addUserBtn"
            class="bg-green-400 hover:bg-green-500 text-white font-semibold py-2 px-4 rounded flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M18 9v6m3-3h-6m-3 3v-6m-3 3H3" />
            </svg>
            إضافة مستخدم جديد
        </button>
    </div>

    <!-- Summary Cards -->
    <div class="grid grid-cols-4 gap-4 mb-6">
        <div class="border-l-4 border-yellow-400 bg-white p-4 rounded shadow flex flex-col justify-center">
            <span class="text-yellow-500 font-bold text-3xl" id="rolesCount">0</span>
            <span class="text-gray-500 text-sm">أنواع الأدوار</span>
        </div>
        <div class="border-l-4 border-red-400 bg-white p-4 rounded shadow flex flex-col justify-center">
            <span class="text-red-500 font-bold text-3xl" id="inactiveUsersCount">0</span>
            <span class="text-gray-500 text-sm">المستخدمين المعطلين</span>
        </div>
        <div class="border-l-4 border-green-600 bg-white p-4 rounded shadow flex flex-col justify-center">
            <span class="text-green-600 font-bold text-3xl" id="activeUsersCount">0</span>
            <span class="text-gray-500 text-sm">المستخدمين النشطين</span>
        </div>
        <div class="border-l-4 border-green-400 bg-white p-4 rounded shadow flex flex-col justify-center">
            <span class="text-green-400 font-bold text-3xl" id="totalUsersCount">0</span>
            <span class="text-gray-500 text-sm">إجمالي المستخدمين</span>
        </div>
    </div>

    <!-- Filters and Search -->
    <div class="flex gap-4 mb-6 items-center">
        <select id="roleFilter" class="border rounded p-2">
            <option value="">جميع الأدوار</option>
        </select>
        <select id="statusFilter" class="border rounded p-2">
            <option value="">جميع الحالات</option>
            <option value="active">نشط</option>
            <option value="inactive">معطل</option>
        </select>
        <input type="search" id="userSearch" placeholder="البحث في المستخدمين..."
            class="border rounded p-2 flex-grow" />
        <button id="exportBtn" class="bg-gray-200 hover:bg-gray-300 p-2 rounded" title="تصدير">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-600" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
            </svg>
        </button>
    </div>

    <!-- Users List -->
    <div class="bg-white rounded shadow p-4">
        <h2 class="text-xl font-bold mb-4 flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-400" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            قائمة المستخدمين
        </h2>
        <div id="usersList" class="space-y-4">
            <!-- User items will be dynamically inserted here -->
        </div>
    </div>
</div>

<!-- Add User Modal -->
<div id="addUserModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="bg-white rounded-lg shadow-lg w-96 p-6 relative">
        <h3 class="text-xl font-bold mb-4">إضافة مستخدم جديد</h3>
        <form id="addUserForm" class="space-y-4">
            <div>
                <label for="username" class="block mb-1 font-semibold">اسم المستخدم</label>
                <input type="text" id="username" name="username" required class="w-full border rounded p-2" />
            </div>
            <div>
                <label for="email" class="block mb-1 font-semibold">البريد الإلكتروني</label>
                <input type="email" id="email" name="email" required class="w-full border rounded p-2" />
            </div>
            <div>
                <label for="password" class="block mb-1 font-semibold">كلمة المرور</label>
                <input type="password" id="password" name="password" required class="w-full border rounded p-2" />
            </div>
            <div>
                <label for="role" class="block mb-1 font-semibold">الدور</label>
                <select id="role" name="role" required class="w-full border rounded p-2">
                    <option value="">اختر الدور</option>
                    <!-- Roles options will be dynamically inserted -->
                </select>
            </div>
            <div>
                <label for="status" class="block mb-1 font-semibold">الحالة</label>
                <select id="status" name="status" required class="w-full border rounded p-2">
                    <option value="active">نشط</option>
                    <option value="inactive">معطل</option>
                </select>
            </div>
            <div class="flex justify-end gap-2 mt-4">
                <button type="button" id="cancelAddUser"
                    class="bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded">إلغاء</button>
                <button type="submit"
                    class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded">إضافة</button>
            </div>
        </form>
        <button id="closeAddUserModal" class="absolute top-2 right-2 text-gray-600 hover:text-gray-800">
            &times;
        </button>
    </div>
</div>

<script src="/js/usersManagement.js">

</script>